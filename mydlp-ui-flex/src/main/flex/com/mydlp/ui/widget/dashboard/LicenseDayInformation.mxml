<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:my="http://www.mydlp.com/flex/my"
		 xmlns:mx="library://ns.adobe.com/flex/mx" width="100%" height="30"
		 creationComplete="onCreationComplete(event)">
	
	<fx:Script>
		<![CDATA[
			import com.mydlp.ui.util.LangUtil;
			
			import mx.events.FlexEvent;
			import mx.rpc.events.ResultEvent;
			public var licenseStatus:String;
			
			protected function onCreationComplete(event:FlexEvent):void
			{
				re.getDayInformation();
			}
			
			protected function getDayInformationHandler(event:ResultEvent):void
			{
				var result:Number = event.result as Number;
				if(result < 0)
				{
					dayInformation.text = (-result).toString() + " " + LangUtil.getString('messages', 'dashboard.license.dayInformation.remainingDay.label');
					dayInformation.setStyle("color", "#ffcc00");
				}
				else if(result < 30)
				{
					dayInformation.text = LangUtil.getString('messages', 'dashboard.license.dayInformation.passedDay.label') + " " + 
											result.toString() + " " + LangUtil.getString('messages', 'dashboard.license.dayInformation.ago');
					dayInformation..setStyle("color", "#ff9955");
					remainingDay.text = LangUtil.getString('messages', 'dashboard.license.dayInformation.after')+" "+(30 - result).toString() 
										+ " " + LangUtil.getString('messages', 'dashboard.license.dayInformation.remainingDayToHardLimit.label');
					remainingDay.setStyle("color", "#ff9955");
				}
				else
				{
					dayInformation.text = LangUtil.getString('messages', 'dashboard.license.dayInformation.passedDay.label') + " " + result.toString()
											+ " " + LangUtil.getString('messages', 'dashboard.license.dayInformation.ago');
					dayInformation.setStyle("color", "red");
				}
				//textBlicker.play();
			}
			
		]]>
	</fx:Script>
	
	<fx:Declarations>
		<my:remote id="re" destination="licenseInformationBRS">
			<my:method name="getDayInformation" result="getDayInformationHandler(event)"/>
		</my:remote>
		
		<!--<s:Animate id="textBlicker" duration="500" repeatBehavior="reverse" repeatCount="0"
				   target="{dayInformation, remainingDay}" >
			<s:SimpleMotionPath property="alpha" valueFrom="1.0" valueTo="0.0"/>
		</s:Animate>-->
	</fx:Declarations>
	
	<s:layout>
		<s:VerticalLayout horizontalAlign="center" gap="5"/>	
	</s:layout>
	
	<s:Label id="dayInformation" fontSize="18"/>
	<s:Label id="remainingDay" fontSize="15"/>
	
</s:Group>
